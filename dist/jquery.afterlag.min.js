/* Afterlag.js 2.0.2 â€” Plugin for tracking page load lags. Author: Sergey Dmitriev (http://serdmi.com). Licensed MIT. */
(function(){var t,e;e=function(){function t(){}return t.merge_options=function(t,e){var s,i,n;n={};for(i in t)s=t[i],n[i]=s;for(i in e)s=e[i],n[i]=s;return n},t}(),t=function(){function t(t){var e;null==t&&(t={}),this._set_options(t),this._callbacks=[],e=this,this.ready=!1,this._lags_was=!1,this.status="processing",this.options.timeout>0&&(this._timeout_process=setTimeout(function(){return e._finish("timeout")},this.options.timeout)),this._success_iterations=0,this._preprocess=setTimeout(function(){return e._time_started=(new Date).getTime(),e._last_checked=e._time_started,e._process=setInterval(function(){var t,s;return s=(new Date).getTime(),t=s-e._last_checked-e.options.frequency,e.options.min_delta<t&&t<e.options.max_delta?(!e.options.need_lags||e._lags_was)&&(e._success_iterations++,e._success_iterations>=e.options.iterations&&e._finish("success")):(e._success_iterations=0,e._lags_was=!0),e._last_checked=s},e.options.frequency)},this.options.delay)}return t.defaults={delay:200,frequency:50,iterations:10,duration:null,scatter:5,min_delta:null,max_delta:null,timeout:null,need_lags:!1},t.prototype._set_options=function(t){return this.options=e.merge_options(this.constructor.defaults,t),null!=this.options.duration&&(this.options.iterations=Math.ceil(this.options.duration/this.options.frequency)),null==this.options.min_delta&&(this.options.min_delta=-this.options.scatter),null==this.options.max_delta?this.options.max_delta=this.options.scatter:void 0},t.prototype.info=function(){var t,e;return null!=this.time_passed?e=this.time_passed:(t=(new Date).getTime(),e=t-this._time_started),{status:this.status,time_passed:e,ready:this.ready,options:this.options}},t.prototype._finish=function(t){var e,s,i,n,r,o;for(null!=this._preprocess&&clearTimeout(this._preprocess),null!=this._process&&clearInterval(this._process),null!=this._timeout_process&&clearTimeout(this._timeout_process),this.ready=!0,this.status=t,n=(new Date).getTime(),this.time_passed=n-this._time_started,r=this._callbacks,o=[],s=0,i=r.length;i>s;s++)e=r[s],o.push(e.fn.call(e.self,this.info()));return o},t.prototype.run=function(t,e){var s;return null==e&&(s=[t,this],e=s[0],t=s[1]),this.ready?e.call(t,this.info()):this._callbacks.push({fn:e,self:t}),this},t}(),window.Afterlag=t,function(e){var s,i,n;return s=null,i=function(e){return null==e&&(e={}),s=new t(e)},n=function(e,n){var r,o;return o=null,null==e?r=null!=s?s:i():null==n?("function"==typeof e?(n=e,r=null!=s?s:i()):"string"==typeof e&&(o=e,n=null),r=null!=s?s:i()):(r=e===!0?i():e instanceof t?e:i(e),"string"==typeof n&&(o=n,n=null)),{afterlag:r,callback:n,trigger:o}},e.afterlag=function(t,s){var i;return i=n(t,s),i.afterlag.run(function(t){return null!=i.callback&&i.callback.call(i.afterlag,t),e(document).trigger("afterlag",[t]),null!=i.trigger?e(document).trigger(i.trigger,[t]):void 0}),i.afterlag},e.fn.afterlag=function(t,s){var i;return i=n(t,s),this.each(function(){var t,s;return t=e(this),t.data("afterlag",i.afterlag),s=this,i.afterlag.run(function(e){return null!=i.callback&&i.callback.call(s,e),t.trigger("afterlag",[e]),null!=i.trigger?t.trigger(i.trigger,[e]):void 0})})}}(jQuery)}).call(this);